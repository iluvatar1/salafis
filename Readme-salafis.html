<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-11-25 Mon 21:46 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Herramientas computacionales locales y remotas</title>
<meta name="author" content="William Oquendo" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/search.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/search.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Herramientas computacionales locales y remotas</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgda5cde1">1. Información General de la sala de Computadores</a></li>
<li><a href="#org4f24438">2. Conexión remota a la sala de cómputo</a>
<ul>
<li><a href="#org43a0655">2.1. Usando vscode + remote-explorer ssh</a>
<ul>
<li><a href="#org3f1cae3">2.1.1. Configuración (Una sola vez)</a></li>
<li><a href="#orgd5e1741">2.1.2. Uso</a></li>
</ul>
</li>
<li><a href="#orgd7e6f45">2.2. Conexión gráfica usando x2goclient</a>
<ul>
<li><a href="#orgc6dc54d">2.2.1. Configuración de una sesión de x2go</a></li>
<li><a href="#org28d12bb">2.2.2. Conexión con x2go</a></li>
<li><a href="#orga97cbdf">2.2.3. Compartir una carpeta local con el escritorio remoto de x2go</a></li>
</ul>
</li>
<li><a href="#orgeb7841e">2.3. Conexión por ssh</a>
<ul>
<li><a href="#org6a565d9">2.3.1. Conexión básica por terminal</a></li>
<li><a href="#org4a934b0">2.3.2. Conexión desde Windows</a></li>
</ul>
</li>
<li><a href="#orgdedb792">2.4. <span class="todo TODO">TODO</span> Conexión gráfica usando xpra (soporta opengl)</a></li>
<li><a href="#orge4a4842">2.5. (Opcional) Conexión con servidor vnc (turbovnc) para OpenGL</a></li>
<li><a href="#orga249ebf">2.6. Conexión dentro del campus desde la red UNAL</a></li>
<li><a href="#org12e3d3c">2.7. (Opcional) File transfer</a>
<ul>
<li><a href="#org34e94c1">2.7.1. Desde computador personal hacia servidor de login</a></li>
<li><a href="#orga5f7b4a">2.7.2. Desde computador personal hacia un cliente interno</a></li>
<li><a href="#org970d848">2.7.3. Desde un computador interno o servidor hacia afuera</a></li>
</ul>
</li>
<li><a href="#org06188c3">2.8. Otros tips</a>
<ul>
<li><a href="#orgcf80562">2.8.1. Usando proxyjump para acceder directamente a un computador interno (terminal)</a></li>
<li><a href="#org087a1eb">2.8.2. Configuración de un tunel para acceso directo a un nodo interno</a></li>
<li><a href="#org3852993">2.8.3. Conexión por medio de llaves y sin password</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgd878e95">3. Local: Virtual box</a>
<ul>
<li><a href="#orge811e9a">3.1. Instalación de virtualbox y el extension pack (una sola vez)</a></li>
<li><a href="#orgccb6c6a">3.2. Instalación de la máquina virtual (una sola vez)</a></li>
<li><a href="#orgdd36a4f">3.3. Opcional: Configurar un directorio compartido entre el host y la máquina virtual</a></li>
<li><a href="#orgff4611b">3.4. Usar la máquina virtual</a></li>
</ul>
</li>
<li><a href="#orgf107b51">4. Local: Live usb</a>
<ul>
<li><a href="#org4cf8165">4.1. Ejemplo con Unebootin</a></li>
<li><a href="#org21be0b3">4.2. <span class="todo TODO">TODO</span> Check Ventoy</a></li>
<li><a href="#orgfa65309">4.3. <span class="todo TODO">TODO</span> Show how to use balenaetcher</a></li>
</ul>
</li>
<li><a href="#org9855507">5. Software</a>
<ul>
<li><a href="#orge00da4c">5.1. spack</a></li>
<li><a href="#org89bc9aa">5.2. Módulos</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
En este documento se presentan algunas herramientas que pueden ser útiles para
estudiantes que requieren algunos recursos computacionales remotos o locales.
</p>
<div id="outline-container-orgda5cde1" class="outline-2">
<h2 id="orgda5cde1"><span class="section-number-2">1.</span> Información General de la sala de Computadores</h2>
<div class="outline-text-2" id="text-1">
<p>
La sala de cómputo tiene un servidor básico de entrada que además comparte
archivos y autenticación con los nodos. La sala es completamente heterogénea,
siendo una reunión de diversos computadores con diversas características y
edades. Actualmente (<span class="timestamp-wrapper"><span class="timestamp">[2024-11-25 Mon]</span></span>) se tiene la siguiente configuración:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Cantidad</th>
<th scope="col" class="org-right">Num Threads</th>
<th scope="col" class="org-right">Ram (Gb)</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">16</td>
<td class="org-right">16</td>
<td class="org-left">1 Nvidia Card</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-right">16</td>
<td class="org-right">16</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">12</td>
<td class="org-right">16</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">12</td>
<td class="org-right">8</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">8</td>
<td class="org-right">12</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">6</td>
<td class="org-right">8</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-right">4</td>
<td class="org-right">8</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
<b>Los ips disponibles actualmente están en el rango <code>192.168.10.[2-29]</code>.</b>
</p>

<p>
Es posible usar los computadores presencialmente como sala de cómputo, o
conectarse al login node y desde allí lanzar trabajos usando slurm, como en un
cluster (muy simplificado).
</p>

<p>
Actualmente el login node tiene ip 168.176.35.111 y el puerto ssh es 443
</p>

<p>
Información relevante:
</p>
<dl class="org-dl">
<dt>Solicitud de cuenta</dt><dd>Usted debe tener cuenta en la sala de física.
Normalmente, su profesor debe gestionar esta creación de cuentas. Pero usted
también puede hacerlo de forma individual llenando el siguiente formulario:
<a href="https://forms.gle/mZpHrTQ5i1eP2ef28">https://forms.gle/mZpHrTQ5i1eP2ef28</a> .</dd>

<dt>Reporte de errores y problemas</dt><dd>Para reportar cualquier error en el uso de
la sala debe ir a <a href="https://github.com/iluvatar1/salafis/issues">https://github.com/iluvatar1/salafis/issues</a> y crear un nuevo
issue, siguiendo las instrucciones allí mostradas.</dd>
</dl>

<dl class="org-dl">
<dt>Software y configuración básica</dt><dd>Las cuentas de usuario tienen un límite de
almacenamiento de 6Gb, pero se puede solicitar más espacio en otras
particiones. La mezcla de diversas, viejas y pequeñas características obliga a
usar una distribución eficiente, y en este caso se Slackware 15.0+ (current),
con el entorno gráfico xfce 4.16. Se incluyen los compiladores más
actualizados, editores, etc. Para instalación de software extra, se puede
llenar el siguiente formulario y la solicitud será evaluada en términos de
compatibiliad (solamente se usa software libre) :
<a href="https://forms.gle/GyaSL8d1rxFAry9U8">https://forms.gle/GyaSL8d1rxFAry9U8</a></dd>
</dl>
</div>
</div>
<div id="outline-container-org4f24438" class="outline-2">
<h2 id="org4f24438"><span class="section-number-2">2.</span> Conexión remota a la sala de cómputo</h2>
<div class="outline-text-2" id="text-2">
<p>
Para realizar la conexión a la sala de cómputo, el usuario tiene dos opciones:
</p>
<ol class="org-ol">
<li>Desde su computador, usar vscode y la extensión remote-ssh, que le permite
acceder al servidor login principal o clientes internos (recomendado, usando
proxyjump), para editar archivos y compilar como si estuviera sentado al
frente del computador de la sala.</li>
<li>Conectarse usando xpra</li>
<li>Conectarse con un cliente x2go a cualquier computador
interno. Para esto es necesario configurar un tunnel usando el servidor como
bastión intermedio. <b>Importante: Lea y siga las instrucciones de
desactivación de screensaver y demás</b>.</li>
<li>Conectarse por el protocolo ssh al servidor principal y de allí navegar a los
computadores internos que desee, también usando ssh.</li>
<li>Conectarse usando turbovnc.</li>
</ol>

<p>
Estas opciones serán descritas con más detalle a continuación. <b>Es importante
notar que no se deben ejecutar tareas en el servidor de login</b>
</p>

<p>
También puede ver el siguiente video que muestra en vivo cómo realizar la
conexión por terminal y gráfica: <a href="https://youtu.be/MJErFmsFfmI">https://youtu.be/MJErFmsFfmI</a> .
</p>
</div>
<div id="outline-container-org43a0655" class="outline-3">
<h3 id="org43a0655"><span class="section-number-3">2.1.</span> Usando vscode + remote-explorer ssh</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org3f1cae3" class="outline-4">
<h4 id="org3f1cae3"><span class="section-number-4">2.1.1.</span> Configuración (Una sola vez)</h4>
<div class="outline-text-4" id="text-2-1-1">
<ul class="org-ul">
<li><p>
Instale vscode, y luego instale la extensión remote-explorer (click en la barra
vertical a la izquierda en extensiones, busque la extensión, instalela)
</p>

<div id="org495707a" class="figure">
<p><img src="figs/vscode-remote-explorer.png" alt="vscode-remote-explorer.png" width="80%" />
</p>
</div>

<p>
URL: <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.remote-explorer">https://marketplace.visualstudio.com/items?itemName=ms-vscode.remote-explorer</a>
</p></li>

<li><p>
Ejecute la extensión en la parte de la izquierda y en donde dice ssh presiona
el símbolo `+` y escribe el comando
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh -J 168.176.35.111:443 USERNAME@IPINTERNO:22
</pre>
</div>
<p>
donde USERNAME es su nombre de usuario y IPINTERNO es cualquier ip en el rango
indicado el inicio de este documento. Al darle enter le va a pedir modificar
algun archivo de configuración de ssh, por ejemplo <code>.ssh/config</code>, lo
selecciona y le da enter. Le debe salir un aviso que indica que el host fue
añadido. Y a la izquierda (teniendo seleccionada la extensión), le aparecen
los host configurados.
</p>

<div id="org9df75d0" class="figure">
<p><img src="figs/vscode-remote-explorer-host.png" alt="vscode-remote-explorer-host.png" width="80%" />
</p>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgd5e1741" class="outline-4">
<h4 id="orgd5e1741"><span class="section-number-4">2.1.2.</span> Uso</h4>
<div class="outline-text-4" id="text-2-1-2">
<ul class="org-ul">
<li><p>
Dele click derecho  a cualquier host que tenga configurado, y pidale que lo
abra en la ventana actual o una nueva (si le pide continuar por conectarse por
primera vez, acepta). Con esto ya estará conectado al computador remoto y
podrá usar el explorador de archivos para explorar los archivos remotos y
editarlos. Tamboen, la terminal se ejecutará remotamente, pero todo lo hace
desde su computador.
</p>

<div id="org19a42b3" class="figure">
<p><img src="figs/vscode-remote-explorer-connection.jpg" alt="vscode-remote-explorer-connection.jpg" width="80%" />
</p>
</div></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgd7e6f45" class="outline-3">
<h3 id="orgd7e6f45"><span class="section-number-3">2.2.</span> Conexión gráfica usando x2goclient</h3>
<div class="outline-text-3" id="text-2-2">
<p>
REF:
<a href="https://www.nas.nasa.gov/hecc/support/kb/x2go-an-alternative-to-x11-and-vnc_651.html">https://www.nas.nasa.gov/hecc/support/kb/x2go-an-alternative-to-x11-and-vnc_651.html</a>
</p>

<p>
El cliente x2go permite conectarse a un servidor x2go y tener un escritorio
remoto encriptado a través de ssh, y es muy rápido. Actualmente, la mayoría de
los nodos internos ofrecen un servidor x2go. El servidor principal de login no
tiene un servidor x2go, para evitar que se realicen trabajos allí. Usted se
conectará a los clientes internos (ips en el rango <code>192.168.10.[2-29]</code>) usando
el servidor externo como puerta de entrada (ip <code>168.176.35.111</code>).
</p>

<p>
Note que x2go NO soporta OpenGL.
</p>
</div>
<div id="outline-container-orgc6dc54d" class="outline-4">
<h4 id="orgc6dc54d"><span class="section-number-4">2.2.1.</span> Configuración de una sesión de x2go</h4>
<div class="outline-text-4" id="text-2-2-1">
<ul class="org-ul">
<li><p>
Instale el cliente descargándolo de client desde
<a href="https://wiki.x2go.org/doku.php/download:start">https://wiki.x2go.org/doku.php/download:start</a> . <b>NOTA: Los usuarios de Mac Os
X deben descargar e instalar previamente xquartz desde
<a href="https://www.xquartz.org/">https://www.xquartz.org/</a></b>
</p>

<p>
<b>Enlaces directos</b>:
</p>
<ul class="org-ul">
<li>Windows: <a href="http://code.x2go.org/releases/X2GoClient_latest_mswin32-setup.exe">http://code.x2go.org/releases/X2GoClient_latest_mswin32-setup.exe</a></li>
<li>Mac Os X: <a href="http://code.x2go.org/releases/X2GoClient_latest_macosx_10_13.dmg">http://code.x2go.org/releases/X2GoClient_latest_macosx_10_13.dmg</a></li>
</ul></li>

<li><p>
Ejecute x2go y en el menú seleccione <code>Session -&gt; New Session</code>. Allí llene la
información que básicamente sería darle un nombre a la sessión, en Host
colocar el ip del cliente interno al que se quiera conectar (en el ejemplo se
muestra <code>192.168.10.37</code> pero <b>debe cambiarla</b> a alguna en el rango actual
<code>192.168.10.[2-29]</code>, como, por ejemplo, <code>192.168.10.4</code>), en login su nombre de
usuario, en el puerto colocar 22 (este es el puerto del cliente interno),
activar conectar a través de un proxy y allí colocar los datos del servidor de
entrada, como muestra la siguiente figura. Además en el tipo de sesión
selccionar XFCE:
</p>

<div id="org5fe3b14" class="figure">
<p><img src="figs/x2go-clientdirect.png" alt="x2go-clientdirect.png" width="80%" />
</p>
</div>

<p>
NO MODIFIQUE LA DIRECCIÓN DEL SERVIDOR EXTERNO <code>168.176.35.111</code> ni su puerto
<code>443</code>.
</p></li>
</ul>
</div>
</div>
<div id="outline-container-org28d12bb" class="outline-4">
<h4 id="org28d12bb"><span class="section-number-4">2.2.2.</span> Conexión con x2go</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
Una vez tenga configurada alguna sesión, simplemente de
click a la sesión, llene el password si es necesario, y tendrá a su
disposición un entorno gráfico ejecutado en el computador interno que haya
escogido en la configuración, como lo muestra la siguiente figura
</p>


<div id="org16a7188" class="figure">
<p><img src="figs/x2goclient-connected.png" alt="x2goclient-connected.png" width="80%" />
</p>
</div>

<p>
La primera vez que se conecta se le preguntará si desea aceptar el hostkey del
servidor, debe decir que sí
</p>


<div id="org193c94d" class="figure">
<p><img src="figs/hostkey.png" alt="hostkey.png" width="70%" />
</p>
</div>

<p>
Algunas veces, se implementa un cambio de contrasenha para la primera vez que se
conecte, y deberá cambiar la contraseña primero escribiendo la actual
(normalmente su número de documento)
</p>


<div id="orgc196991" class="figure">
<p><img src="figs/passwd2.png" alt="passwd2.png" width="60%" />
</p>
</div>


<div id="org33a44e4" class="figure">
<p><img src="figs/passwd1.png" alt="passwd1.png" width="60%" />
</p>
</div>

<p>
Y luego colocando (se le solicita dos veces para confirmar) la nueva contraseña
</p>
</div>
<ol class="org-ol">
<li><a id="orgde9e2cf"></a><b>IMPORTANTE Recomendación con x2go</b>: deshabilitar screensaver<br />
<div class="outline-text-5" id="text-2-2-2-1">
<p>
<b>NOTA:</b> Desde 2023-03-01 es probable que NO requiera hacer esto ya que se han
desinstalado todos los screensaers.
</p>

<p>
Para evitar que la sesión se bloquee sin recuperación luego de unos minutos de
inactividad se les recomienda que deshabiliten los programas xscreensaver,
xfce4-screensaver y el bloqueo de pantalla, todos accesibles desde el menú y
configuración (<code>Applications, Settings, ir al final del menu</code>). Las siguientes
figuras muestran cómo deben quedar deshabilitados estos servicios:
</p>
<ul class="org-ul">
<li>xscreensaver</li>
</ul>

<div id="org548a7ba" class="figure">
<p><img src="figs/xscreensaver.png" alt="xscreensaver.png" width="80%" />
</p>
</div>
<ul class="org-ul">
<li>xfce4-screensaver</li>
</ul>

<div id="org8864e74" class="figure">
<p><img src="figs/xfce4-screensaver.png" alt="xfce4-screensaver.png" width="80%" />
</p>
</div>
<ul class="org-ul">
<li>screen lock (second tab from xfce4 screensaver prefs):</li>
</ul>

<div id="org4fbaeb8" class="figure">
<p><img src="figs/xfce4-screenlock.png" alt="xfce4-screenlock.png" width="80%" />
</p>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orga97cbdf" class="outline-4">
<h4 id="orga97cbdf"><span class="section-number-4">2.2.3.</span> Compartir una carpeta local con el escritorio remoto de x2go</h4>
<div class="outline-text-4" id="text-2-2-3">
<p>
Para facilitar el intercambio de archivos, x2go permite compartir carpetas del
computador local que ejecuta x2go (cliente) con el servidor de x2go(computador
remoto). Para hacer esto, simplemente en x2go vaya a la sessión que ya tiene
configurada y funcional y entre a las preferencias (menú de tres barras y luego
preferencias)
</p>

<div id="org43e4bf3" class="figure">
<p><img src="figs/x2go-session-prefs.jpg" alt="x2go-session-prefs.jpg" width="80%" />
</p>
</div>

<p>
Luego, en la parte superior selecciona el tad de Shared folders,
</p>

<div id="orgc6e9c96" class="figure">
<p><img src="figs/x2go-session-sharedfolders.jpg" alt="x2go-session-sharedfolders.jpg" width="80%" />
</p>
</div>

<p>
Y allí navega para escoger el directorio que desea compartir, dando click en el
ícono de carpeta, una vez seleccionado le da click a add, y luego se asegura de
haber selccionado automount,
selecciona
</p>

<div id="org87dcdae" class="figure">
<p><img src="figs/x2go-session-sharedfolder-automout.jpg" alt="x2go-session-sharedfolder-automout.jpg" width="80%" />
</p>
</div>

<p>
Con esto guarda (ok), se conecta, y en el escritorio le aparecerá un ícono con
el nombre asociado a la ruta que compartió. Le da click y podrá copiar y pegar
allí archivos y demás, intercambiando datos entre el cmputador local y el
remoto.
</p>

<p>
<b>NOTA IMPORTANTE</b>: Si obtiene algún error al abrir la carpeta en el escritorio
remoto, no la abra con doble click sino que de click derecho, escoja abrir con,
y busque el comando x2gofm .
</p>
</div>
</div>
</div>
<div id="outline-container-orgeb7841e" class="outline-3">
<h3 id="orgeb7841e"><span class="section-number-3">2.3.</span> Conexión por ssh</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-org6a565d9" class="outline-4">
<h4 id="org6a565d9"><span class="section-number-4">2.3.1.</span> Conexión básica por terminal</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
El ip público del servidor es 168.176.35.111. La conexión básica por ssh se
establece de la siguiente manera
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh -p <span style="color: #da8548; font-weight: bold;">443</span> USERNAME@168.176.35.111
</pre>
</div>
<p>
donde <code>443</code> es el puerto de conexión y <b>debe reemplazarse <code>USERNAME</code> por el
nombre de usuario</b> (debe tener una cuenta previamente creada). Este comando le
pedirá la clave (si no está usando llaves de autenticación, o si es la primera
vez) y si la autenticación es exitosa el usuario observará el siguiente prompt:
</p>

<div id="org09606e5" class="figure">
<p><img src="figs/init_prompt.png" alt="init_prompt.png" width="80%" />
</p>
</div>

<p>
Allí se describen los diversos ips internos a los que se puede conectar el
usuario. Por ejemplo, si desea conectarse a un nodo de 4 threads, podría usar
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh 192.168.10.12
</pre>
</div>
<p>
o también
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh sala12
</pre>
</div>
<p>
No es necesario especificar el puerto ya que se usa el que es por defecto,
el 22. Allí podrá ejecutar sus trabajos.
</p>

<p>
<b>NOTA:</b> La primera vez que se conecte a cada nodo, ya sea el de login o uno
interno, se le va a preguntar por la autenticidad de ese host. Debe aceptarla.
</p>
</div>
</div>
<div id="outline-container-org4a934b0" class="outline-4">
<h4 id="org4a934b0"><span class="section-number-4">2.3.2.</span> Conexión desde Windows</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
Windows 10 trae soporte para cliente ssh, especialmente en el WSL. En lo que
sigue se mostrarán opciones para esta y otras versiones de Windows:
</p>
<ol class="org-ol">
<li>Instale una extensión de google chrome llamada <a href="https://chrome.google.com/webstore/detail/secure-shell/iodihamcpbpeioajjeobimgagajmlibd">chrome secure shell</a> .</li>
<li>Instale una aplicación: como <a href="http://www.9bis.net/kitty/#!pages/download.md">kitty</a>, <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">putty</a>, <a href="https://winsshterm.blogspot.com/">winsshterm</a> , <a href="https://mobaxterm.mobatek.net/">MobaXterm(basic)</a></li>
</ol>
<p>
Las imágenes que siguen muestran la conexión desde kitty (en una máquina virtual
de windows 7) o desde la extensión de chrome (que funciona en cualquier
instalación de chrome)
</p>
<dl class="org-dl">
<dt>Chrome secure shell</dt><dd><p>
Ejecute la extensión e introduzca la información necesaria
</p>

<div id="org17458bc" class="figure">
<p><img src="figs/secshell-basic-1.png" alt="secshell-basic-1.png" width="80%" />
</p>
</div>

<p>
Debe autorizar los permisos necesarios, como darle permiso a la extensión
para conectarse o aceptar la identidad de la máquina remota escribiendo yes
en el cuadro que sale
</p>

<div id="orgbf61c3c" class="figure">
<p><img src="figs/secshell-basic-2.png" alt="secshell-basic-2.png" width="80%" />
</p>
</div>

<p>
Y luego podrá entrar sin problema
</p>

<div id="orgfe6acbc" class="figure">
<p><img src="figs/secshell-basic-3.png" alt="secshell-basic-3.png" width="80%" />
</p>
</div>

<p>
Es importante resaltar que esta extensión soporta mosh, que le permite
reconectarse automáticamente después de una caída de conexíon.
</p></dd>
<dt>kitty</dt><dd><p>
Configuración de la conexión: simplemente escriba el ip, el puerto, y da
click en start (a la izquierda)
</p>

<div id="org6617f56" class="figure">
<p><img src="figs/kitty-basic-1.png" alt="kitty-basic-1.png" width="80%" />
</p>
</div>

<p>
Luego escriba su nombre de usuario y contraseña y deberá entrar al prompt del
login server:
</p>

<div id="orgf7a7b4b" class="figure">
<p><img src="figs/kitty-basic-2.png" alt="kitty-basic-2.png" width="80%" />
</p>
</div></dd>
</dl>
</div>
</div>
</div>
<div id="outline-container-orgdedb792" class="outline-3">
<h3 id="orgdedb792"><span class="section-number-3">2.4.</span> <span class="todo TODO">TODO</span> Conexión gráfica usando xpra (soporta opengl)</h3>
<div class="outline-text-3" id="text-2-4">
<p>
La aplicación xpra, <a href="https://xpra.org/index.html">https://xpra.org/index.html</a>, permite realizar una conexión
gráfica que además soporta opengl, de manera que se peuden realizar
visualizaciones con paraview y demás. Ustede debe descsrgar la aplicación para
su sistema operativo, desde  <a href="https://github.com/Xpra-org/xpra/wiki/Download">https://github.com/Xpra-org/xpra/wiki/Download</a> , e
instalarla. Una vez haga esto, ejecútela. Obtendrá una ventana como la
siguiente:
</p>

<div id="orgb46787a" class="figure">
<p><img src="figs/xpra-init.png" alt="xpra-init.png" width="80%" />
</p>
</div>

<p>
Luego de click en star, y alli configure la conexion al servidor. NOTA: Esta es
una conexion al servidor login. Realice tareas livianas de manera que no sobre
cargue el servidor.
</p>

<div id="org8d89107" class="figure">
<p><img src="figs/xpra-config.png" alt="xpra-config.png" width="80%" />
</p>
</div>

<p>
Una vez configurado le da click en start and attach.
</p>
</div>
</div>
<div id="outline-container-orge4a4842" class="outline-3">
<h3 id="orge4a4842"><span class="section-number-3">2.5.</span> (Opcional) Conexión con servidor vnc (turbovnc) para OpenGL</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Existen algunas aplicaciones que requieren OpenGL para su funcionamiento. OpenGL
no está soportado en x2go. Para resolver esto se puede usar un servidor vnc con
soporte OpenGL (como turbovnc), pero esto requiere a su vez requiere varias
cosas (ver <a href="https://docs.hpc.cam.ac.uk/hpc/user-guide/turbovnc.html">https://docs.hpc.cam.ac.uk/hpc/user-guide/turbovnc.html</a> ,
<a href="https://www.osc.edu/resources/available_software/software_list/turbovnc">https://www.osc.edu/resources/available_software/software_list/turbovnc</a>) :
</p>
<ul class="org-ul">
<li>Activar el servidor vnc dentro de un cliente de la sala de cómputo (con su
configuración respectiva)</li>
<li>Crear un túnel local que direccione el puerto del cliente a un puerto
local.</li>
<li>Conectar turbovnc al túnel local.</li>
</ul>
<p>
Para realizar lo anterior, se indican a continuación las instrucciones
específicas que ya han sido probadas y funcionan, pero debe seguirlas
correctamente:
</p>
<ol class="org-ol">
<li>Activación del servidor vnc en un cliente interno:
<ol class="org-ol">
<li><p>
Entre (por ssh o x2go) al cliente interno en donde va a ejecutar el
servidor vnc. Allí ejecute el siguiente comando para cargar el paquete de
turbovnc
</p>
<div class="org-src-container">
<pre class="src src-shell"> <span style="color: #c678dd;">source</span> /packages/spack/share/spack/setup-env.sh
 spack load turbovnc
</pre>
</div></li>
<li><p>
<b>NOTA: este paso se realiza una sola vez</b>: configurar al password de
acceso al servidor, ejecutando el comando
</p>
<div class="org-src-container">
<pre class="src src-shell">vncpasswd
</pre>
</div>
<p>
y escribir el password dos veces.
</p></li>
<li><p>
Ejecutar el servidor vnc y tomar nota del puerto asignado: Ejecutar
</p>
<div class="org-src-container">
<pre class="src src-shell">vncserver
</pre>
</div>
<p>
Al crear el servidor se asigna un puerto de la forma <code>590R</code>. Es importante
anotar ese valor de <code>R</code>. Este número es el que aparece cuando se ejecuta
el comando <code>vncserver</code> como un mensaje en la consola que dice algo como
<code>/home/$USER/.vnc/sala2.salafis.net:R.log)</code> o cuando se ejecuta el comando
</p>
<div class="org-src-container">
<pre class="src src-shell">vncserver -list
</pre>
</div>
<p>
en donde el número <code>R</code> aparece debajo de <code>X DISPLAY</code>.
</p></li>
</ol></li>
<li>Creación del tunel:
<ol class="org-ol">
<li><p>
Ejecutar el siguiente comando, reemplazondo <code>R</code> por su valor correcto (se
asume que se desea conectar al cliente interno que termina en .2):
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh -f -N -p <span style="color: #da8548; font-weight: bold;">22</span> USUARIO@192.168.10.2 -J USUARIO@168.176.35.111:443 -L 590R:localhost:590R
</pre>
</div>
<p>
evidentemente debe reemplazar <code>USUARIO</code> por su nombre de usuario. Puede ser
que el comando se quede ejecutando sin hacer nada más. Déjelo así y no
cierre la ventana en donde lo ejecutó. Este comando debe ejecutarse en una
terminal. Más abajo se muestra también como configurarlo en putty o kitty.
</p></li>
</ol></li>
<li>Conectarse usando el cliente turbovnc:
<ol class="org-ol">
<li>En su computador debe tener instalado el turbovnc viewer (descargarlo de
<a href="https://sourceforge.net/projects/turbovnc/files/">https://sourceforge.net/projects/turbovnc/files/</a> , para windows es el
archivo que termina <code>.exe</code> o <code>.msi</code>) .</li>
<li><p>
Ejecutar turbovnc, y cuando pida los datos de conexión se coloca
</p>
<div class="org-src-container">
<pre class="src src-shell">localhost:590R
</pre>
</div>
<p>
reemplazando <code>R</code> por el valor correspondiente. Se escribe el password
correspondiente que se creó con  <code>vncpasswd</code> y con esto se abre un
escritorio que tiene soporte para opengl. Se puede verificar abriendo una
consola y escribiendo
</p>
<div class="org-src-container">
<pre class="src src-shell">glxgears
</pre>
</div></li>
</ol></li>
</ol>
</div>
</div>
<div id="outline-container-orga249ebf" class="outline-3">
<h3 id="orga249ebf"><span class="section-number-3">2.6.</span> Conexión dentro del campus desde la red UNAL</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Actualmente (2023-02-22), la red wireless UNAL restringe el protocolo ssh y esto
hace que no pueda establecerse conexión con el servidor cuando se está dentro
del campus conectado a la red UNAL. A pesar de solicitar la solución varias
veces no ha sido posible resolver este problema y por tanto se plantea acá una
solución alternativa: usar una vpn. En la lista de videos puede encontrar uno
que muestra el procedimiento: <a href="https://www.youtube.com/playlist?list=PLxbXsIEaf05oGM0i-HrMVdClxPyrIsq4e">https://www.youtube.com/playlist?list=PLxbXsIEaf05oGM0i-HrMVdClxPyrIsq4e</a>
</p>

<p>
Los pasos a seguir son:
</p>
<ul class="org-ul">
<li>Instalar tailscale (el video de antes muestra esto en Windows, pero puede ser usado en linux, mac, android): <a href="https://tailscale.com/">https://tailscale.com/</a></li>
<li>Enviar un email el encargado de la sala informando su usuario de github (si no
lo tinee, debe crearlo, idealmente con e correo de la unal).</li>
<li>Esperar la confirmación de haber sido añadido a la organización
correspondiente.</li>
<li>Abrir tailscale usando la cuenta de github, luego seleccionando una multinet
asociada a la organización que se le informó.</li>
<li>Conectarse siguiendo los mismos pasos pero cambiando el ip tradicional del
servidor (168.176.x.x) por el que muestra tail scale para serversalafis.</li>
</ul>

<p>
La conexión dentro del campus será rápida. Fuera del campus será más lenta
porque debe enrutarse a servidor externos y entonces es preferible usar el
método tradicional. Se le recomienda tener dos sesiones de x2go, una con el ip
tradicional y otra con tailscale.
</p>
</div>
</div>
<div id="outline-container-org12e3d3c" class="outline-3">
<h3 id="org12e3d3c"><span class="section-number-3">2.7.</span> (Opcional) File transfer</h3>
<div class="outline-text-3" id="text-2-7">
<p>
Por favor revise de nuevo la sección de 2go ya que allí se describe una manera
gráfica de compartir un directorio entre el computador local que usa y el
escritorio remoto.
</p>

<p>
También ss posible copiar archivos desde o hacia la sala de cómputo, usando la
línea de comando. La forma exacta de hacerlo va a depender del putno de origen y
destino. A continuación se muestran algunos ejemplos específicos.
</p>
</div>
<div id="outline-container-org34e94c1" class="outline-4">
<h4 id="org34e94c1"><span class="section-number-4">2.7.1.</span> Desde computador personal hacia servidor de login</h4>
<div class="outline-text-4" id="text-2-7-1">
<p>
Como el acceso al servidor de login es directo, se puede usar cualquier
herramienta que permita usar ssh compo protocolo. Por ejemplo, se puede usar
scp,
</p>
<div class="org-src-container">
<pre class="src src-shell">scp -P <span style="color: #da8548; font-weight: bold;">443</span> mudir/myfile.cpp USERNAME@168.176.35.111:/home/USERNAME/target
</pre>
</div>
<p>
donde USERNAME es el nombre de usuario. Todo lo que se copie en el home estandar
de un usuario (en este caso <code>/home/USERNAME</code>) es visible en todos los clientes
de la sala.
</p>
</div>
</div>
<div id="outline-container-orga5f7b4a" class="outline-4">
<h4 id="orga5f7b4a"><span class="section-number-4">2.7.2.</span> Desde computador personal hacia un cliente interno</h4>
<div class="outline-text-4" id="text-2-7-2">
<p>
Este caso ocurre cuando a un usuario en particular se le ha activado un
directorio local en un cliente interno para, por ejemplo, manejar cantidades
grandes de datos. Para efectos de ejemplo, asumamos que en el cliente interno
<code>sala100</code>, con ip <code>192.168.10.100</code>, se ha creado un directorio local llamado
<code>/mnt/tmp/localshare</code>. Para realizar la copia ahora se debe pasar a través del
servidor login para poder acceder al cliente interno, y se puede usar la opción
ProxyJump de ssh como
</p>
<div class="org-src-container">
<pre class="src src-shell">scp -o <span style="color: #98be65;">"ProxyJump 168.176.35.111:443"</span> mudir/myfile.cpp USERNAME@192.168.10.100:/home/USERNAME/target
</pre>
</div>
</div>
</div>
<div id="outline-container-org970d848" class="outline-4">
<h4 id="org970d848"><span class="section-number-4">2.7.3.</span> Desde un computador interno o servidor hacia afuera</h4>
<div class="outline-text-4" id="text-2-7-3">
<p>
Desde <code>2023-02-06</code>, no se requiere proxy ni corkscrew, etc
</p>
</div>
</div>
</div>
<div id="outline-container-org06188c3" class="outline-3">
<h3 id="org06188c3"><span class="section-number-3">2.8.</span> Otros tips</h3>
<div class="outline-text-3" id="text-2-8">
</div>
<div id="outline-container-orgcf80562" class="outline-4">
<h4 id="orgcf80562"><span class="section-number-4">2.8.1.</span> Usando proxyjump para acceder directamente a un computador interno (terminal)</h4>
<div class="outline-text-4" id="text-2-8-1">
<p>
Si un usuario desea conectarse directamente a un pc interno puede usar el
servidor de login como bastión intermedio, a través el siguiente
comando
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh -J USERNAME@168.176.35.111:443 USERNAME@192.168.10.12
</pre>
</div>
<p>
Y en este caso entrará directamente al nodo <code>192.168.10.12</code> y será transparente
su conexión.
</p>
</div>
<ol class="org-ol">
<li><a id="orgeee8a42"></a>Windows<br />
<div class="outline-text-5" id="text-2-8-1-1">
<p>
No todos los clientes ssh de windows soportan las versiones recientes de ssh y
la opción proxyjump. Sin embargo puede seguir las siguientes <a href="https://superuser.com/questions/1448180/how-to-setup-proxy-jump-with-putty">instrucciones para
kitty</a> , o usar plink, o crear un tunnel como se muestra más adelante.
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-org087a1eb" class="outline-4">
<h4 id="org087a1eb"><span class="section-number-4">2.8.2.</span> Configuración de un tunel para acceso directo a un nodo interno</h4>
<div class="outline-text-4" id="text-2-8-2">
<p>
El objetivo de este punto es establecer una conexión directa a un nodo interno y
dejar esta conexión expuesta localmente en un puerto específico. Esto se llama
&ldquo;abrir un túnel&rdquo;. La utilidad de un tunel es que no será necesario hacer dos
logins y además permitirá conectarse graficamente a un escritorio compartido en
una sesión gráfica.
</p>

<p>
Asumiendo que queremos un túnel al computador interno de ip 192.168.10.12, el
comando a ejecutar es
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh -f -N -o <span style="color: #98be65;">'Compression=no'</span> -L 2222:192.168.10.12:22 -p <span style="color: #da8548; font-weight: bold;">443</span> USERNAME@168.176.35.111
</pre>
</div>
<p>
En este caso, el puerto local del tunel es el 2222.
</p>

<p>
Para probar que el tunel funciona, ejecute:
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh -p <span style="color: #da8548; font-weight: bold;">2222</span> USERNAME@localhost
</pre>
</div>
<p>
y deberá aparecer inmediatamente logueado en 192.168.10.12 .
</p>

<p>
El túnel debe ser funcional para que pueda usar x2goclient.
</p>
</div>
<ol class="org-ol">
<li><a id="org6790d98"></a>Windows<br />
<div class="outline-text-5" id="text-2-8-2-1">
<ul class="org-ul">
<li><p>
chrome secure shell: configure la conexión como se muestra a continuación,
conéctse y manténgala abierta
</p>

<div id="org8700996" class="figure">
<p><img src="figs/tunnel-secshell-1.png" alt="tunnel-secshell-1.png" width="80%" />
</p>
</div></li>
<li><p>
kitty: Además de colocar el ip y el puerto, en las opciones a la izquierda
debe ir a ssh, dar click en el símbolo +, seleccionar tunnel, en source port
color <code>2222</code>, en destination <code>192.168.10.12:22</code>, le da add, y debe quedar como
se muestra a continuación
</p>

<div id="org39c5ea8" class="figure">
<p><img src="figs/kitty-basic-1.png" alt="kitty-basic-1.png" width="80%" />
</p>
</div>

<div id="orge81a890" class="figure">
<p><img src="figs/tunnel-kitty-1.png" alt="tunnel-kitty-1.png" width="80%" />
</p>
</div>

<p>
Luego le da click en start y NO cierra la sesión.
</p></li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-org3852993" class="outline-4">
<h4 id="org3852993"><span class="section-number-4">2.8.3.</span> Conexión por medio de llaves y sin password</h4>
<div class="outline-text-4" id="text-2-8-3">
<p>
Si prefiere no escribir la clave cada vez que se conecta, además de aumentar la
seguridad, puede crear una llave pública privada y copiarla al servidor de login
(ver, por ejemplo,
<a href="https://www.tecmint.com/ssh-passwordless-login-using-ssh-keygen-in-5-easy-steps/">https://www.tecmint.com/ssh-passwordless-login-using-ssh-keygen-in-5-easy-steps/</a>).
Basicamente debe ejecutar los siguientes comandos
</p>
<ul class="org-ul">
<li><p>
Generar la llave (puede dejar vacía la passphrase de la llave):
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh-keygen -t rsa
</pre>
</div></li>
<li><p>
Copiar la llave
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh-copy-id -p <span style="color: #da8548; font-weight: bold;">443</span> USERNAME@168.176.35.111
</pre>
</div>
<p>
Debe introducir el password. Si lo anterior funciona exitosamente, la
siguiente vez que use ssh al servidor de login no tendrá que introducir la
clave.
</p></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd878e95" class="outline-2">
<h2 id="orgd878e95"><span class="section-number-2">3.</span> Local: Virtual box</h2>
<div class="outline-text-2" id="text-3">
<p>
En este caso pueden usar una máquina virtual que he diseñado para este fin, o
ustedes mismos por su cuentas instalar y configurar todo lo necesario en su
distribución Linux favorita. Para que funcione la máquina virtual es necesario
que su procesador soporte virtualización. Esto pasa con la mayoría, sean AMD o
Intel, pero lastimosmente casi nunca está activado. Para activar esa opción,
deben entrar a la bios (normalmente cuando arranca el computador deben ver la
opción de setup o similar y a qué tecla corresponde, como F2, F10 o F12, y
presionarla) y una vez en la bios buscar y activar la opción de virtualizacicón.
Se pueden seguir las instrucciones en (aunque deben ver si aplica o no a su
bios; si no aplica, deben buscar su modelo exacto en google)
<a href="https://www.softzone.es/2016/07/23/como-activar-la-virtualizacion-en-los-procesadores-intel-amd-desde-biosuefi/">https://www.softzone.es/2016/07/23/como-activar-la-virtualizacion-en-los-procesadores-intel-amd-desde-biosuefi/</a>
</p>


<p>
Las instrucciones a seguir son las siguientes:
</p>
</div>
<div id="outline-container-orge811e9a" class="outline-3">
<h3 id="orge811e9a"><span class="section-number-3">3.1.</span> Instalación de virtualbox y el extension pack (una sola vez)</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>Instalar virtualbox en su computador. Lo pueden descargar de
<a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a> . Existen instaladores para Windows,
linux, mac.</li>
<li>Instalar virtualbox extension pack tambien descargando del mismo sitio (como
ven la versión debe coincidir con la de virtual box). Le dan doble click y lo
abren con virtualbox. Esta utilidad les permite soportar USB3, compartir
directorios entre el host (su computador) y el guest (la máquina virtual),
etc.</li>
</ul>
</div>
</div>
<div id="outline-container-orgccb6c6a" class="outline-3">
<h3 id="orgccb6c6a"><span class="section-number-3">3.2.</span> Instalación de la máquina virtual (una sola vez)</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><p>
Descargar la siguiente imagen de maquina virtual que se ha creado (aprox 5.0
GB): <a href="https://tinyurl.com/Slack64-VirtualBox">https://tinyurl.com/Slack64-VirtualBox</a> (Debe descargar el archivo único d
extensión <code>.ova</code>):
</p>


<div id="org5ad20b0" class="figure">
<p><img src="figs/VirtualBox-boxova-drive.png" alt="VirtualBox-boxova-drive.png" width="80%" />
</p>
</div></li>

<li><p>
Abrir virtualbox e importar la maquina virtual recién descargada : <code>File -&gt;
  Import Appliance</code> (importan el archivo <b><code>box.ova</code></b>):
</p>


<div id="orgccc9d81" class="figure">
<p><img src="figs/VirtualBox-boxova.png" alt="VirtualBox-boxova.png" width="80%" />
</p>
</div></li>

<li><p>
Si lo desean puede cambiar alguna configuración, como añadir más memoria RAM y
aumentar el número de procesadores asociados. No cambie la configuración de
red a menos que sepa lo que está haciendo:
</p>


<div id="orgbab7bb0" class="figure">
<p><img src="figs/VirtualBox-boxova-settings.png" alt="VirtualBox-boxova-settings.png" width="80%" />
</p>
</div>

<p>
Este proceso puede tardar varios minutos
</p></li>

<li><p>
<b>NOTA</b>: Si después de importar exitosamente la máquina virtual usted la inicia y
ésta lo lleva a una shell interactiva de uefi como la siguiente:
</p>

<div id="orgdccfdf0" class="figure">
<p><img src="figs/Virtualbox-uefi-shell.png" alt="Virtualbox-uefi-shell.png" width="80%" />
</p>
</div>

<p>
se le sugiere que apague la máquina virtual, entre a settings y en sistema
desactive la opción de UEFI como muestra la siguiente figura:
</p>

<div id="org8eff20b" class="figure">
<p><img src="figs/Virtualbox-uefi.png" alt="Virtualbox-uefi.png" width="80%" />
</p>
</div>

<p>
Después de esto podrá iniciar la máquina virtual sin problema.
</p></li>
</ul>
</div>
</div>
<div id="outline-container-orgdd36a4f" class="outline-3">
<h3 id="orgdd36a4f"><span class="section-number-3">3.3.</span> Opcional: Configurar un directorio compartido entre el host y la máquina virtual</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Si desea poder leer y escribir desde la máquina virtual en un directorio
compartido entre su host y la máquina, debe crear un directorio compartido
siguiendo configurando la máquina virtual (apagada) así: va a <code>Settings -&gt;
Shared Folders</code>, da click en el ícono que tiene una carpeta con un signo <code>+</code>, en
<code>Folder Path</code> navega en su sistema host y escoge el directorio que desea
compartir, en folder name le coloca el nombre <code>shared</code> (obligatorio), deja SIN
marcar Read-only y Auto-mount, si le sale la opción lo marca como permanente, y
listo. La máquina virtual está configurada para que cada vez que inicia intenta
montar el directorio compartido llamado <code>shared</code> en la ruta <code>/media/hd</code>. Allí
podrá encontrar sus archivos compartidos.
<img src="figs/sharedfolder.png" alt="sharedfolder.png" />
</p>

<p>
<b>NOTA</b>: En caso de tener problemas de acceso, como falta de permisos para poder
acceder a la carpeta compartida, debe añadir al usuario live al grupo vboxsf.
Esto se hace convirtiendose en root,
</p>
<div class="org-src-container">
<pre class="src src-bash">su -
</pre>
</div>
<p>
(debe escribir la contraseña de root, que es vagrant), y luego ejecutar el
siguiente comando
</p>
<div class="org-src-container">
<pre class="src src-bash">usermod -a -G vboxsf live
</pre>
</div>
<p>
Reinicie.
</p>
</div>
</div>
<div id="outline-container-orgff4611b" class="outline-3">
<h3 id="orgff4611b"><span class="section-number-3">3.4.</span> Usar la máquina virtual</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li><p>
Iniciar la máquina virtual (dándole start) y esto debería iniciar un linux sin
problema. El nombre de usuario es <code>live</code>, dan enter, y el password es <code>live</code> .
Pueden configurar la resolución en el menú <code>View</code> de virtualbox, escogiendo la
resolución o el escalamiento que deseen. También, habiendo iniciado a linux,
en settings pueden cambiar la resolución de la pantalla para que se vea mejor
en sus computadores.  
</p>

<div id="org38e02f0" class="figure">
<p><img src="figs/VirtualBox-initscreen.png" alt="VirtualBox-initscreen.png" width="80%" />
</p>
</div></li>

<li><p>
La máquina virtual tiene configurada la consola y el emacs tradicional.
También se ha configurado el teclado para que sea latinoamericano, como la
mayoría de sus teclados. El entorno gráfico es Xfce 4.16 (muy liviano), y
tiene el navegador básico (firfox 78), libreoffice, editores, compiladores,
etc.
</p>


<div id="orgf3f08fb" class="figure">
<p><img src="figs/VirtualBox-xfce.png" alt="VirtualBox-xfce.png" width="80%" />
</p>
</div></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgf107b51" class="outline-2">
<h2 id="orgf107b51"><span class="section-number-2">4.</span> Local: Live usb</h2>
<div class="outline-text-2" id="text-4">
<p>
La máquina virtual le permite ejecutar todo un sistema operativo muy eficiente,
pero no necesariamente usa todos los recursos de su computador. Una forma de
resolver esto es usar una live usb que tenga persistencia y en donde usted mismo
instale las herramientas necesarias. Normalmente en la sala del departamento
usamos slackware live , por su bajo consumo de recursos  y gran estabilidad,
<a href="https://alien.slackbook.org/blog/slackware-live-edition/">https://alien.slackbook.org/blog/slackware-live-edition/</a> . Sin embargo, para
usar persistencia, la usb live debe ser creada desde linux, no se puede desde
windows. Entonces se recomienda usar otras versiones pero allí será necesario
que usted mismo se encargue de instalar lo necesario. La ventaja es que usted
crea la usb con persistencia, reinicia su computador, presiona la tecla de boot
correspondiente al arrancar, lo hace arranacar del puerto usb (donde se supone
está conectada la memoria), y entonces tendrá disponible linux con todos los
recursos de su computador. Para crear la memoria con persistencia puede usar
rufus en windows, <a href="https://rufus.ie/">https://rufus.ie/</a> , o unebootin, <a href="https://unetbootin.github.io/">https://unetbootin.github.io/</a>
. En cualquier caso , esos programas le permiten escoger la distribución en la
cual basarse para crear la memoria usb live. Esto tambien implica que se van a
demorar descargando el iso de alguna distribución, al menos unos 5Gb. En
unebootin se recomienda usar ubuntu ya que es la única que permite persistencia.
En rufus debe haber algo similar.
</p>
</div>
<div id="outline-container-org4cf8165" class="outline-3">
<h3 id="org4cf8165"><span class="section-number-3">4.1.</span> Ejemplo con Unebootin</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Se supone que ya ha instalado unebootin. Ejecute el programa y configurelo como
muestra la figura. En este caso se han asignado 5Gb (depende del tamaño de la
memoria, puede ser aproximadamente igual tamaño total menos 4GB) para la
persistencia (solamente funciona con Ubuntu), y CERCIÓRESE MUY BIEN DE
SELECCIONAR EL NOMBRE EXACTO DE LA UNIDAD DE USB DRIVE, porque de otra manera
puede arriesgarse a formatear su computador. El nombre que aparece en la figura
es típico de Mac Os X. En Windows debe ser de la form <code>D:</code> o similar.
</p>

<div id="orga528ce4" class="figure">
<p><img src="figs/unetbootin-1.png" alt="unetbootin-1.png" width="80%" />
</p>
</div>

<p>
Como en este caso no se ha descargado previamente ubuntu, unebootin lo hará por
usted pero eso quiere decir que se tomará un buen tiempo porque son
apróximadamente 3 GB. En la figura se
muestra esta etapa
</p>

<div id="orgdfc64d1" class="figure">
<p><img src="figs/unetbootin-downloadimg.png" alt="unetbootin-downloadimg.png" width="80%" />
</p>
</div>

<p>
Luego se comenzarán a copiar los archivos de la imagen iso recién descargada a
la usb, como muestra la figura
</p>

<div id="org350fdb0" class="figure">
<p><img src="figs/unetbootin-copying.png" alt="unetbootin-copying.png" width="80%" />
</p>
</div>

<p>
Mas adelante unetbootin configurará la persistencia y finalmente terminará
mostrando una ventana como la siguiente
</p>

<div id="org22ab39a" class="figure">
<p><img src="figs/unetbootin-final.png" alt="unetbootin-final.png" width="80%" />
</p>
</div>

<p>
Ahora tiene lista su usb con persistencia. Lo que queda es simplemente que
mantenga la usb en el puerto usb, apague y encienda su máquina y la haga bootear
desde la usb (depende del modelo del comoutador, a veces es presionando F2,
otras F12, debe buscar en google), y su computador cargará este linux de la usb
y usted podrá usar linux , sin haberlo instalado, y con todas las capacidades de
su máquina.
</p>
</div>
</div>
<div id="outline-container-org21be0b3" class="outline-3">
<h3 id="org21be0b3"><span class="section-number-3">4.2.</span> <span class="todo TODO">TODO</span> Check Ventoy</h3>
<div class="outline-text-3" id="text-4-2">
<p>
<a href="https://www.ventoy.net/en/index.html">https://www.ventoy.net/en/index.html</a>
</p>
</div>
</div>
<div id="outline-container-orgfa65309" class="outline-3">
<h3 id="orgfa65309"><span class="section-number-3">4.3.</span> <span class="todo TODO">TODO</span> Show how to use balenaetcher</h3>
<div class="outline-text-3" id="text-4-3">
<p>
<a href="https://www.balena.io/etcher/">https://www.balena.io/etcher/</a>
This allows to easily burn any iso and any platform.
</p>
</div>
</div>
</div>
<div id="outline-container-org9855507" class="outline-2">
<h2 id="org9855507"><span class="section-number-2">5.</span> Software</h2>
<div class="outline-text-2" id="text-5">
<p>
En la sala se utiliza <code>spack</code> (<a href="https://spack.readthedocs.io/en/latest/">https://spack.readthedocs.io/en/latest/</a>) y
<code>environment modules</code> (<a href="https://modules.readthedocs.io/en/latest/">https://modules.readthedocs.io/en/latest/</a>) para
centralizar la instalación de software.
</p>
</div>
<div id="outline-container-orge00da4c" class="outline-3">
<h3 id="orge00da4c"><span class="section-number-3">5.1.</span> spack</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Por ejemplo, si desea usar la librería openblas, debe escribir lo siguiente en
la consola
</p>
<div class="org-src-container">
<pre class="src src-shell">spack load openblas
</pre>
</div>
<p>
Algunas veces aparecen varias versiones, como en este caso, que el comando
anterior indicará lo siguiente:
</p>
<div class="org-src-container">
<pre class="src src-shell">==&gt; Error: openblas matches multiple packages.
  Matching packages:
    wrycfcg openblas@0.3.20%gcc@12.2.0 <span style="color: #dcaeea;">arch</span>=linux-slackware15-x86_64
    5tw4ktw openblas@0.3.20%gcc@12.2.0 <span style="color: #dcaeea;">arch</span>=linux-slackware15-x86_64
    62jarbg openblas@0.3.21%gcc@12.2.0 <span style="color: #dcaeea;">arch</span>=linux-slackware15-x86_64
  Use a more specific spec <span style="color: #51afef;">(</span>e.g., prepend <span style="color: #98be65;">'/'</span> to the hash<span style="color: #51afef;">)</span>.
</pre>
</div>
<p>
En ese caso se puede escoger la veersión siguiendo la instrucción indicada. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">spack load openblas/62
</pre>
</div>
<p>
cargará la version 0.3.21 . Para descargar/limpiar el entorno, puede usar
</p>
<div class="org-src-container">
<pre class="src src-shell">module unload openblas
</pre>
</div>
<p>
o
</p>
<div class="org-src-container">
<pre class="src src-shell">module purge
</pre>
</div>

<p>
Si desea ver todos los paquetes instalados, puede usar
</p>
<div class="org-src-container">
<pre class="src src-shell">spack <span style="color: #ECBE7B;">find</span>
</pre>
</div>
<p>
que mostrará una larga lista como
</p>
<div class="org-src-container">
<pre class="src src-shell">-- linux-slackware15-x86_64 / gcc@12.2.0 ------------------------
alsa-lib@1.2.3.2                    gl2ps@1.4.2                          libxft@2.3.2             py-meshio@4.4.6
alsa-lib@1.2.3.2                    gl2ps@1.4.2                          libxkbcommon@1.4.0       py-mpi4py@3.1.2
apr@1.7.0                           gl2ps@1.4.2                          libxkbfile@1.0.9         py-mpi4py@3.1.2
apr-util@1.6.1                      gl2ps@1.4.2                          libxml2@2.10.1           py-numpy@1.23.2
armadillo@10.5.0                    glew@2.2.0                           libxml2@2.10.1           py-numpy@1.23.2
arpack-ng@3.8.0                     glew@2.2.0                           libxmu@1.1.2             py-petsc4py@3.17.4
arpack-ng@3.8.0                     glew@2.2.0                           libxp@1.0.3              py-pillow@9.2.0
...
</pre>
</div>

<p>
Si requiere algún software particular que no esté instalado, debe  llenar el
formulario  <a href="https://forms.gle/GyaSL8d1rxFAry9U8">https://forms.gle/GyaSL8d1rxFAry9U8</a> .
</p>
</div>
</div>
<div id="outline-container-org89bc9aa" class="outline-3">
<h3 id="org89bc9aa"><span class="section-number-3">5.2.</span> Módulos</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Tambien puede usar módulos. En este caso, para saber cuáles están instalados,
puede usar
</p>
<div class="org-src-container">
<pre class="src src-shell">module avail
</pre>
</div>
<p>
y cargar el módulo con el nombre correspondiente
</p>
<div class="org-src-container">
<pre class="src src-shell">module load openblas-0.3.21-gcc-12.2.0-62jarbg
</pre>
</div>
<p>
De la misma manera, con <code>unload</code> o <code>purge</code> puede limpiar el entorno.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: William Oquendo</p>
<p class="date">Created: 2024-11-25 Mon 21:46</p>
</div>
</body>
</html>
